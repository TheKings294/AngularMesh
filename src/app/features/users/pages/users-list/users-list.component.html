<div class="overflow-x-auto">
  <table class="w-full text-sm text-left text-gray-600 dark:text-gray-300">
    <thead class="text-xs uppercase bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300">
      <tr>
        <th class="px-4 py-3">ID</th>
        <th class="px-4 py-3">User</th>
        <th class="px-4 py-3">Email</th>
        <th class="px-4 py-3">Phone</th>
        <th class="px-4 py-3">Company</th>
        <th class="px-4 py-3">Role</th>
        <th class="px-4 py-3 text-right">
          <span class="sr-only">Actions</span>
        </th>
      </tr>
    </thead>

    <tbody *ngIf="!loading && !error && users.length; else tableState">
      <tr *ngFor="let user of users" class="border-b border-gray-100 dark:border-gray-700">
        <td class="px-4 py-3 font-medium text-gray-900 dark:text-white">{{ user.id }}</td>
        <td class="px-4 py-3">
          <div class="font-medium text-gray-900 dark:text-white">
            {{ user.firstName }} {{ user.lastName }}
          </div>
          <div class="text-xs text-gray-500 dark:text-gray-400">@{{ user.username }}</div>
        </td>
        <td class="px-4 py-3">{{ user.email }}</td>
        <td class="px-4 py-3">{{ user.phone }}</td>
        <td class="px-4 py-3">{{ user.company?.name || '—' }}</td>
        <td class="px-4 py-3">
          <span class="inline-flex items-center px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-200">
            {{ user.role || '—' }}
          </span>
        </td>
        <td class="px-4 py-3 text-right text-sm text-gray-400 dark:text-gray-500">
          —
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #tableState>
    <tbody>
      <tr *ngIf="loading">
        <td colspan="7" class="px-6 py-6 text-center text-gray-400 dark:text-gray-500">
          Loading users...
        </td>
      </tr>
      <tr *ngIf="!loading && error">
        <td colspan="7" class="px-6 py-6 text-center text-red-600 dark:text-red-400">
          {{ error }}
        </td>
      </tr>
      <tr *ngIf="!loading && !error && !users.length">
        <td colspan="7" class="px-6 py-6 text-center text-gray-400 dark:text-gray-500">
          No users found.
        </td>
      </tr>
    </tbody>
  </ng-template>
</div>
